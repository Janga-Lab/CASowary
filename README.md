![alt text](https://github.com/Janga-Lab/CASowary/blob/master/CASowary_Logo.svg?raw=true)

CASowary is a command line machine learning tool written in Python 3.6.8 for prediciting the efficiacy of sgRNAs for CRISPR Cas13 and other transcript targeting systems. CASowary uses the functions from the following libraries: argparse, numpy, os, and random. CASowary also requires the use of the TopHat aligner (version 2.1.1) and bedtools (version 2.26.0).

CASowary has two different scripts that must be ran in a particular order: CASowary_Preprocess (which takes a list of gene names as input to create a fasta file of all possible guides that tile all transcripts associate with that gene) and CASowary_Predict (which takes the aforementioned fasta file, the TopHat alignment file, and a protein occupancy peak file to create guide predictions).

Add the Gene_Information.txt to the same location where you downloaded the repository from the given link:

https://indiana-my.sharepoint.com/:f:/g/personal/amkrug_iu_edu/Et5C7ArR7SNElsF8Tlz45UwBtpcvpVSKAesOmyipOl8pQg?e=c6EAhy

CASowary Preprocess can be ran using the following. Gene.csv is a csv file containing gene names, and will generate a fasta file called Input_Guides.fasta.

python CASowary_Preprocess.py Gene.csv -o Input_Guides.fasta

The resulting Input_Guides.fasta needs to be ran through the TopHat aligner with the following options: read-mismatches 3, read-edit-dist 3 (see example below). The reference transcriptiome file is also stored at the same link with the Gene_Information.txt file.

tophat --read-mismatches 3 --read-edit-dist 3 -o Gene_Guides ./BT_hg38_transcriptome_0221/BT_hg38_transcriptome_0221 Input_Guides.fasta

The results of the TopHat alignment, can be changed from a bam file to a bed file using bedtools bamtobed command (see example below).

bedtools bamtobed -i accepted_hits.bam > accepted_hits.bed

The resulting bed file should also be sorted using the bedtools sort command (see example below).

bedtools sort -i Target_Hits.bed > Target_Hits.sorted.bed

Finally, CASowary Preprocess can be ran using the following. Input_Guides.fasta is the fasta file generated by CASowary_Preprocess. Target_Hits.sorted.bed is the sorted bed file from teh tophat alignement. Hek293_Occupancy_Profile.xls is a peak file for protein occupied regions in Hek293 cell line. Predictions.txt is a tab separated file containing the guide name, transcript name, guide sequence, model predction, and the model's confidence in that prediction.

python CASowary_Predict.py Input_Guides.fasta -h Target_Hits.sorted.bed -p Hek293_Occupancy_Profile.xls -o Predictions.txt
